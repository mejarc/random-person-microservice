# random-person

A microservice that delivers a JSON object with the name and details of a random (fictional) person from [RandomUser.me](http://RandomUser.me) via HTTP.

<!-- TODO You would include details like the URL, the HTTP method, the expected format of the request, the expected format of the response, what each field in the request means, what each field in the response means, whether the response would be sent as a HTTP callback to some URL provided in the request or as a response to the initial request, and so on. -->

## How to request data from this microservice
You can request data with JavaScript `fetch` or `XMLHttpRequest`.

URL: `https://guarded-scrubland-83014.herokuapp.com/https://random-person.herokuapp.com/random-person` 

HTTP Method: GET

### JavaScript fetch example, for localhost

The value of `cors_api_url` is a handy workaround for the common ["CORS Missing Allow Origin"](https://dev.to/imiebogodson/fixing-the-cors-error-by-hosting-your-own-proxy-on-heroku-3lcb) error you can get when fetching external data from `localhost`.

```js
const cors_api_url = 'https://guarded-scrubland-83014.herokuapp.com/';
let API = cors_api_url + 'https://random-person.herokuapp.com/random-person';

return fetch(API)
      .then((resp) => resp.json())
      .then((json) => {
        if (json.error) {
          console.log(json.error);
        } else if (json.results) {
          useData(json);
        }
    })
     .catch((err) => console.error(err));

```
## How to receive data from this microservice
If your HTTP request succeeds, you'll get a JSON object structured as below.

```js
{
	"results": [
		{
			"gender": ...,
			"name": {
				"title": ...,
				"first": ...,
				"last": ...
			},
			"location": {
				"street": {
					"number": ...,
					"name": ...
				},
				"city": ...,
				"state": ...,
				"country": ...,
				"postcode": ...,
				"coordinates": {
					"latitude": ...,
					"longitude": ...
				},
				"timezone": {
					"offset": ...,
					"description": ...
				}
			},
			"email": ...,
			"login": {
				"uuid": ...,
				"username": ...,
				"password": ...,
				"salt": ...,
				"md5": ...,
				"sha1": ...,
				"sha256": ...
			},
			"dob": {
				"date": ...,
				"age": ...
			},
			"registered": {
				"date": ...,
				"age": ...
			},
			"phone": ...,
			"cell": ...,
			"id": {
				"name": ...,
				"value": ...
			},
			"picture": {
				"large": ...,
				"medium": ...,
				"thumbnail": ...
			},
			"nat": ...
		}
	],
	"info": {
		"seed": ...,
		"results": 1,
		"page": 1,
		"version": "1.4"
	}
}

````
You can structure this data with JavaScript/HTML.


```js
/* Create a node and display the string that represents the person.*/

const useData = (data)=> {
  const person = data.results[0];
  const div = document.createElement("div");
  div.textContent = `${person.name.first} ${person.name.last}`;
  document.body.appendChild(div);
}

```
### The data you'll receive
At present, you'll get a single record generated by [RandomUser](https://randomuser.me/). There are currently 12 different made-up attributes you can retrieve about this fictional person, which you can examine at the RandomUser site documentation.

## UML sequence diagram
![UML](random-person.png)

<!-- ### Contributors
@mejarc -->